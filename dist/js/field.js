(()=>{"use strict";var e,t={262:(e,t)=>{t.A=(e,t)=>{const r=e.__vccOpts||e;for(const[e,n]of t)r[e]=n;return r}},613:()=>{},678:(e,t,r)=>{const n=Vue;const o=LaravelNova,l={mixins:[o.FieldValue],props:["resourceName","field"]};var a=r(262);const i=(0,a.A)(l,[["render",function(e,t,r,o,l,a){return(0,n.openBlock)(),(0,n.createElementBlock)("span",null,(0,n.toDisplayString)(e.fieldValue),1)}]]);var c={class:"bg-gray-50 dark:bg-gray-700 overflow-hidden key-value-items"};function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,l,a,i=[],c=!0,u=!1;try{if(l=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=l.call(r)).done)&&(i.push(n.value),i.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return d(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?d(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}const s={props:["index","resource","resourceName","resourceId","field"],data:function(){return{theData:[]}},created:function(){this.theData=Object.entries(this.field.value||{}).map(function(e){var t=u(e,2),r=t[0],n=t[1];return{key:"".concat(r),value:n}})}},f=(0,a.A)(s,[["render",function(e,t,r,o,l,a){var i=(0,n.resolveComponent)("FormKeyValueHeader"),u=(0,n.resolveComponent)("FormKeyValueItem"),d=(0,n.resolveComponent)("FormKeyValueTable"),s=(0,n.resolveComponent)("PanelItem");return(0,n.openBlock)(),(0,n.createBlock)(s,{index:r.index,field:r.field},{value:(0,n.withCtx)(function(){return[e.theData.length>0?((0,n.openBlock)(),(0,n.createBlock)(d,{key:0,"edit-mode":!1,class:"overflow-hidden"},{default:(0,n.withCtx)(function(){return[(0,n.createVNode)(i,{"key-label":r.field.keyLabel,"value-label":r.field.valueLabel},null,8,["key-label","value-label"]),(0,n.createElementVNode)("div",c,[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(e.theData,function(e,t){return(0,n.openBlock)(),(0,n.createBlock)(u,{index:t,item:e,"edit-mode":!1,key:e.key},null,8,["index","item"])}),128))])]}),_:1})):(0,n.createCommentVNode)("",!0)]}),_:1},8,["index","field"])}]]);var y={key:0,class:"text-sm text-red-500 mb-2"},p={class:"bg-white dark:bg-gray-800 overflow-hidden key-value-items"},m={class:"mr-1"},v={key:3,class:"text-sm text-red-500 mt-2"};const h=LaravelNovaUi;const k={props:{canDeleteRow:{type:Boolean,default:!0},editMode:{type:Boolean,default:!0}}},b=(0,a.A)(k,[["render",function(e,t,r,o,l,a){return(0,n.openBlock)(),(0,n.createElementBlock)("div",{class:(0,n.normalizeClass)(["relative rounded-lg rounded-b-lg bg-gray-100 dark:bg-gray-800 bg-clip border border-gray-200 dark:border-gray-700",{"mr-11":r.editMode&&r.canDeleteRow}])},[(0,n.renderSlot)(e.$slots,"default")],2)}]]);var g={class:"bg-gray-100 dark:bg-gray-800 rounded-t-lg flex border-b border-gray-200 dark:border-gray-700"},w={class:"bg-clip w-48 uppercase font-bold text-xxs text-gray-500 tracking-wide px-3 py-2"},x={class:"bg-clip flex-grow uppercase font-bold text-xxs text-gray-500 tracking-wide px-3 py-2 border-l border-gray-200 dark:border-gray-700"};const B={props:{keyLabel:{type:String},valueLabel:{type:String}}},O=(0,a.A)(B,[["render",function(e,t,r,o,l,a){return(0,n.openBlock)(),(0,n.createElementBlock)("div",g,[(0,n.createElementVNode)("div",w,(0,n.toDisplayString)(r.keyLabel),1),(0,n.createElementVNode)("div",x,(0,n.toDisplayString)(r.valueLabel),1)])}]]);function C(e){return function(e){if(Array.isArray(e))return V(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return V(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?V(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function V(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var E={class:"flex items-center border-b border-gray-100 dark:border-gray-700 last:border-b-0"},N={class:"flex flex-grow p-2"},A={class:"w-46 flex relative"},F=["dusk"],D=["value"],S={class:"flex-1 px-2"},K=["dusk"],j={class:"pr-2"};const I={props:{index:Number,item:Object,editMode:{type:Boolean,default:!0},readOnly:{type:Boolean,default:!1},readOnlyKeys:{type:Boolean,default:!1},canDeleteRow:{type:Boolean,default:!0},keyOptions:{type:Array,default:function(){return[]}},placeholder:{type:String,default:"Choose a key option"}},emits:["remove-row"],computed:{hasError:function(){return!this.item.key}},methods:{isNotObject:function(){return!(this.item.value instanceof Object)},isEditable:function(){return!this.readOnly},defaultBackgroundColors:function(){return"bg-white dark:bg-gray-900"},disabledBackgroundColors:function(){return!0===this.editMode?"bg-gray-50 dark:bg-gray-700":this.defaultBackgroundColors},handleKeyFieldFocus:function(){var e=this.$refs.keyField;e&&e.focus()}}},R=(0,a.A)(I,[["render",function(e,t,r,o,l,a){return(0,n.openBlock)(),(0,n.createElementBlock)("div",E,[(0,n.createElementVNode)("div",N,[(0,n.createElementVNode)("div",A,[(0,n.withDirectives)((0,n.createElementVNode)("select",{dusk:"key-value-key-".concat(r.index),"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.item.key=e}),class:(0,n.normalizeClass)(["w-48 block form-control form-control-bordered form-input",{"form-input-border-error":a.hasError}]),ref:"keyField",onFocus:t[1]||(t[1]=function(){return a.handleKeyFieldFocus&&a.handleKeyFieldFocus.apply(a,arguments)})},[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(r.keyOptions,function(e){return(0,n.openBlock)(),(0,n.createElementBlock)("option",{key:e.value,value:e.value},(0,n.toDisplayString)(e.label),9,D)}),128))],42,F),[[n.vModelSelect,r.item.key]]),t[4]||(t[4]=(0,n.createElementVNode)("span",{class:"pointer-events-none absolute inset-y-0 right-[11px] flex items-center"},[(0,n.createElementVNode)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",class:"w-5 h-5 shrink-0 text-gray-700 dark:text-gray-400 transform"},[(0,n.createElementVNode)("path",{"fill-rule":"evenodd",d:"M5.22 8.22a.75.75 0 0 1 1.06 0L10 11.94l3.72-3.72a.75.75 0 1 1 1.06 1.06l-4.25 4.25a.75.75 0 0 1-1.06 0L5.22 9.28a.75.75 0 0 1 0-1.06Z","clip-rule":"evenodd"})])],-1))]),(0,n.createElementVNode)("div",S,[(0,n.withDirectives)((0,n.createElementVNode)("input",{dusk:"key-value-value-".concat(r.index),"onUpdate:modelValue":t[2]||(t[2]=function(e){return r.item.value=e}),type:"text",class:(0,n.normalizeClass)(["w-full form-control form-input form-input-bordered",{"form-input-border-error":a.hasError}])},null,10,K),[[n.vModelText,r.item.value]])])]),(0,n.createElementVNode)("div",j,[(0,n.createElementVNode)("button",{type:"button",onClick:t[3]||(t[3]=function(t){return e.$emit("remove-row",r.item.id)}),class:"appearance-none cursor-pointer text-red-500 hover:text-red-400"},C(t[5]||(t[5]=[(0,n.createElementVNode)("svg",{class:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[(0,n.createElementVNode)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])))])])}]]);function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,l,a,i=[],c=!0,u=!1;try{if(l=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=l.call(r)).done)&&(i.push(n.value),i.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return L(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?L(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function L(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function M(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,function(e){return(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)})}const T={components:{Button:h.Button,FormTable:b,FormHeader:O,FormItem:R},mixins:[o.FormField,o.HandlesValidationErrors],data:function(){return{theData:[]}},mounted:function(){var e=this;this.$nextTick(function(){e.populateKeyValueData()})},computed:{fieldKeyOptions:function(){var e;return(null===(e=this.field)||void 0===e?void 0:e.keyOptions)||[]},hasKeyOptions:function(){return Array.isArray(this.fieldKeyOptions)&&this.fieldKeyOptions.length>0}},methods:{populateKeyValueData:function(){this.theData=Object.entries(this.field.value||{}).map(function(e){var t=_(e,2),r=t[0],n=t[1];return{id:M(),key:r,value:n}})},addRow:function(){if(this.hasKeyOptions){var e=Object.keys(this.fieldKeyOptions)[0]||"";this.theData.push({id:M(),key:e,value:""})}},removeRow:function(e){var t=this.theData.findIndex(function(t){return t.id===e});-1!==t&&this.theData.splice(t,1)},fill:function(e){var t=this.theData.reduce(function(e,t){return t.key&&(e[t.key]=t.value),e},{});e.append(this.field.attribute,JSON.stringify(t))}}},U=(0,a.A)(T,[["render",function(e,t,r,o,l,a){var i=(0,n.resolveComponent)("FormHeader"),c=(0,n.resolveComponent)("FormItem"),u=(0,n.resolveComponent)("FormTable"),d=(0,n.resolveComponent)("Button"),s=(0,n.resolveComponent)("DefaultField");return(0,n.openBlock)(),(0,n.createBlock)(s,{field:e.field,errors:e.errors,"show-help-text":e.showHelpText,"full-width-content":e.fullWidthContent},{field:(0,n.withCtx)(function(){return[(0,n.createElementVNode)("div",null,[a.hasKeyOptions?(0,n.createCommentVNode)("",!0):((0,n.openBlock)(),(0,n.createElementBlock)("div",y," Please provide key options using the ->keyOptions() method. ")),a.hasKeyOptions?(0,n.withDirectives)(((0,n.openBlock)(),(0,n.createBlock)(u,{key:1,"edit-mode":!e.currentlyIsReadonly,"can-delete-row":e.currentField.canDeleteRow},{default:(0,n.withCtx)(function(){return[(0,n.createVNode)(i,{"key-label":e.field.keyLabel||"Key","value-label":e.field.valueLabel||"Value"},null,8,["key-label","value-label"]),(0,n.createElementVNode)("div",p,[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(e.theData,function(t,r){return(0,n.openBlock)(),(0,n.createBlock)(c,{index:r,onRemoveRow:a.removeRow,item:t,key:t.id,ref_for:!0,ref:t.id,"read-only":e.currentlyIsReadonly,"read-only-keys":e.currentField.readonlyKeys,"can-delete-row":e.currentField.canDeleteRow,"key-options":a.fieldKeyOptions,placeholder:e.field.placeholder||e.__("Choose a key option")},null,8,["index","onRemoveRow","item","read-only","read-only-keys","can-delete-row","key-options","placeholder"])}),128))])]}),_:1},8,["edit-mode","can-delete-row"])),[[n.vShow,e.theData.length>0]]):(0,n.createCommentVNode)("",!0),e.currentlyIsReadonly||e.currentField.readonlyKeys||!e.currentField.canAddRow?(0,n.createCommentVNode)("",!0):((0,n.openBlock)(),(0,n.createBlock)(d,{key:2,class:"w-full flex items-center justify-center mt-3",onClick:a.addRow,variant:"link",type:"button"},{default:(0,n.withCtx)(function(){return[(0,n.createElementVNode)("span",m,(0,n.toDisplayString)(e.field.actionText||"Add row"),1)]}),_:1},8,["onClick"])),a.hasKeyOptions?(0,n.createCommentVNode)("",!0):((0,n.openBlock)(),(0,n.createElementBlock)("p",v," Please provide key options using the ->keyOptions() method. "))])]}),_:1},8,["field","errors","show-help-text","full-width-content"])}]]);Nova.booting(function(e,t){e.component("index-selectable-key-value",i),e.component("detail-selectable-key-value",f),e.component("form-selectable-key-value",U),e.component("form-table-selectable-key-value",b),e.component("form-header-selectable-key-value",O),e.component("form-item-selectable-key-value",R)})}},r={};function n(e){var o=r[e];if(void 0!==o)return o.exports;var l=r[e]={exports:{}};return t[e](l,l.exports,n),l.exports}n.m=t,e=[],n.O=(t,r,o,l)=>{if(!r){var a=1/0;for(d=0;d<e.length;d++){for(var[r,o,l]=e[d],i=!0,c=0;c<r.length;c++)(!1&l||a>=l)&&Object.keys(n.O).every(e=>n.O[e](r[c]))?r.splice(c--,1):(i=!1,l<a&&(a=l));if(i){e.splice(d--,1);var u=o();void 0!==u&&(t=u)}}return t}l=l||0;for(var d=e.length;d>0&&e[d-1][2]>l;d--)e[d]=e[d-1];e[d]=[r,o,l]},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={222:0,101:0};n.O.j=t=>0===e[t];var t=(t,r)=>{var o,l,[a,i,c]=r,u=0;if(a.some(t=>0!==e[t])){for(o in i)n.o(i,o)&&(n.m[o]=i[o]);if(c)var d=c(n)}for(t&&t(r);u<a.length;u++)l=a[u],n.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return n.O(d)},r=self.webpackChunklemonlabs_nova_selectable_key_value=self.webpackChunklemonlabs_nova_selectable_key_value||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),n.O(void 0,[101],()=>n(678));var o=n.O(void 0,[101],()=>n(613));o=n.O(o)})();